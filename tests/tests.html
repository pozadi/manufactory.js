<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Dom-modules.js Tests</title>
  <link rel="stylesheet" href="http://code.jquery.com/qunit/qunit-1.10.0.css">
  <script src="http://code.jquery.com/qunit/qunit-1.10.0.js"></script>
  <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
  <script src="http://coffeescript.org/extras/coffee-script.js"></script>
  <script src="../dom-modules.js"></script>
  <script type="text/coffeescript">

    test "action()", ->

      $('body').addClass 'controller-foo action-bar'

      expect 2

      equal typeof action, 'function', "expect action() to be defined"

      action 'foo#bar', ->
        ok true, 'code runs when it should'

      action 'foo#baz', ->
        ok false, "code don't run when it should not"

    test ".htmlInserted()", ->

      expect 2

      equal typeof $().htmlInserted, 'function', "expect .htmlInserted() to be defined"

      myDiv = $('<div style="display:none">test</div>').appendTo('body')
      myDiv.on 'html-inserted', ->
        ok true, "event handler runs when .htmlInserted() calls"

      myDiv.htmlInserted()


  </script>
</head>
<body>
  <div id="qunit"></div>
</body>
</html>